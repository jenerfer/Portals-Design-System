/* ============================================================
   PORTALS — Global Stylesheet
   ============================================================ */


/* ===== View Transitions ===== */

@view-transition {
  navigation: auto;
}

::view-transition-old(root) {
  animation-duration: 0.5s;
  animation-timing-function: ease;
}

::view-transition-new(root) {
  animation-duration: 0.5s;
  animation-timing-function: ease;
}


/* ===== Reset ===== */

*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 16px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  font-family: 'DM Sans', sans-serif;
  color: var(--text-primary);
  background-color: var(--surface-primary);
  line-height: 1.5;
  overflow-x: hidden;
}

img, svg {
  display: block;
  max-width: 100%;
}

/* Scrollbar — dark mode */
[data-theme="dark"] {
  scrollbar-color: var(--slate-5) transparent;
}

[data-theme="dark"] ::-webkit-scrollbar {
  width: 12px;
}

[data-theme="dark"] ::-webkit-scrollbar-track {
  background: transparent;
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
  background: var(--slate-5);
  border: 3px solid var(--slate-1);
  border-radius: 6px;
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
  background: var(--slate-6);
}


/* ===== Color Tokens — Brand Palette (fixed, never overridden) ===== */

:root {
  /* Blues */
  --blue-1: #6AC1FF;
  --blue-2: #9FD7FF;
  --blue-3: #BFE4FF;
  --blue-4: #DFF2FF;

  /* Violet */
  --violet-1: #AB9EF5;
  --violet-2: #B7ABFD;
  --violet-3: #D8D1FF;

  /* Ice Tones (0–13, lightest to darkest) */
  --ice-0:  #FFFFFF;
  --ice-1:  #F5FAFF;
  --ice-2:  #EAF2FF;
  --ice-3:  #E4EDFA;
  --ice-4:  #DCE7F5;
  --ice-5:  #CADBF7;
  --ice-6:  #BCCEEA;
  --ice-7:  #A9BEE1;
  --ice-8:  #97AECF;
  --ice-9:  #8499BD;
  --ice-10: #6B83AB;
  --ice-11: #4F5F79;
  --ice-12: #3D4E66;
  --ice-13: #21262E;

  /* Slate Tones (0–13, 1:1 with ice) */
  --slate-0:  #111419;
  --slate-1:  #12161C;
  --slate-2:  #161A20;
  --slate-3:  #1A1F28;
  --slate-4:  #242B36;
  --slate-5:  #2E3642;
  --slate-6:  #3A4554;
  --slate-7:  #4A586C;
  --slate-8:  #556478;
  --slate-9:  #5E6E84;
  --slate-10: #7E8DA4;
  --slate-11: #A8B4C4;
  --slate-12: #CCD4DE;
  --slate-13: #E8ECF2;

  /* Special */
  --shadow-1: rgba(118, 156, 220, 0.32);


  /* ===== Semantic Tokens — Light Mode (default) ===== */

  /* Surfaces */
  --surface-primary:    var(--ice-1);
  --surface-elevated:   var(--ice-0);
  --surface-sunken:     var(--ice-2);

  /* Text */
  --text-primary:       var(--ice-13);
  --text-secondary:     var(--ice-11);
  --text-tertiary:      var(--ice-10);
  --text-quaternary:    var(--ice-9);
  --text-placeholder:   var(--ice-7);
  --text-disabled:      var(--ice-6);

  /* Borders */
  --border-default:     var(--ice-5);
  --border-subtle:      var(--ice-4);
  --border-hover:       var(--ice-6);
  --border-strong:      var(--ice-8);

  /* Accent — Blues */
  --accent-primary:     var(--blue-1);
  --accent-bg:          var(--blue-4);
  --accent-btn:         var(--blue-2);
  --accent-btn-hover:   var(--blue-3);
  --accent-heading:     var(--blue-1);
  --accent-heading-alt: var(--blue-2);
  --accent-focus:       var(--blue-4);

  /* Accent — Violet */
  --accent-violet:       var(--violet-1);
  --accent-violet-hover: var(--violet-2);

  /* Focus States */
  --border-focus:        var(--blue-1);
  --ring-focus:          var(--blue-4);
  --text-focus:          var(--blue-1);
  --caret-accent:        var(--blue-2);

  /* Selected / Checked States */
  --border-selected:     var(--blue-1);
  --bg-selected:         var(--blue-4);
  --bg-checked:          var(--blue-1);
  --bg-toggle-on:        var(--blue-2);
  --bg-toggle-on-hover:  var(--blue-1);

  /* Trigger / Selection Indicator */
  --bg-trigger-selected:  var(--blue-3);
  --bg-pill-selected:     var(--blue-2);
  --indicator-active:     var(--blue-1);

  /* Form / Loading Accent */
  --bg-btn-accent:        var(--blue-2);
  --bg-btn-accent-hover:  var(--blue-1);
  --spinner-accent:       var(--blue-2);
  --progress-fill:        var(--blue-3);

  /* Icons */
  --icon-default:           var(--ice-7);
  --icon-hover:             var(--ice-8);
  --icon-active:            var(--blue-1);
  --icon-dark:              var(--ice-10);

  /* Button: Secondary */
  --btn-secondary-bg:    var(--ice-13);
  --btn-secondary-text:  var(--ice-3);
  --btn-secondary-hover: var(--ice-12);

  /* Button: Subtle */
  --btn-subtle-bg:       var(--ice-4);
  --btn-subtle-text:     var(--ice-10);

  /* Button: Inactive */
  --btn-inactive-bg:     var(--ice-3);
  --btn-inactive-text:   var(--ice-6);
  --btn-inactive-border: var(--ice-5);

  /* Shadow */
  --shadow-elevation:    rgba(118, 156, 220, 0.32);

  /* Dropdown triggers */
  --dropdown-trigger-bg:       var(--ice-3);
  --dropdown-trigger-hover:    var(--ice-4);
  --dropdown-trigger-pill:     var(--ice-6);

  /* Feedback */
  --feedback-success:    #18AD79;
  --feedback-error:      #CB3B36;
}


/* ===== Dark Mode Overrides ===== */

[data-theme="dark"] {
  /* Surfaces */
  --surface-primary:    var(--slate-1);
  --surface-elevated:   var(--slate-0);
  --surface-sunken:     var(--slate-2);

  /* Text */
  --text-primary:       var(--slate-13);
  --text-secondary:     var(--slate-11);
  --text-tertiary:      var(--slate-10);
  --text-quaternary:    var(--slate-9);
  --text-placeholder:   var(--slate-7);
  --text-disabled:      var(--slate-6);

  /* Borders */
  --border-default:     var(--slate-5);
  --border-subtle:      var(--slate-4);
  --border-hover:       var(--slate-6);
  --border-strong:      var(--slate-8);

  /* Accent — Blues */
  --accent-primary:     #6AC1FF;
  --accent-bg:          rgba(52, 150, 220, 0.15);
  --accent-btn:         #6AC1FF;
  --accent-btn-hover:   #6AC1FF;
  --accent-heading:     #6AC1FF;
  --accent-heading-alt: #6AC1FF;
  --accent-focus:       rgba(52, 150, 220, 0.3);

  /* Accent — Violet */
  --accent-violet:       #9B8EE5;
  --accent-violet-hover: #AB9EF5;

  /* Focus States */
  --border-focus:        #6AC1FF;
  --ring-focus:          rgba(52, 150, 220, 0.3);
  --text-focus:          #4DA8E8;
  --caret-accent:        #6AC1FF;

  /* Selected / Checked States */
  --border-selected:     #4DA8E8;
  --bg-selected:         rgba(52, 150, 220, 0.15);
  --bg-checked:          #4DA8E8;
  --bg-toggle-on:        #4DA8E8;
  --bg-toggle-on-hover:  #4DA8E8;

  /* Trigger / Selection Indicator */
  --bg-trigger-selected:  #4DA8E8;
  --bg-pill-selected:     #4DA8E8;
  --indicator-active:     #4DA8E8;

  /* Form / Loading Accent */
  --bg-btn-accent:        #4DA8E8;
  --bg-btn-accent-hover:  #6AC1FF;
  --spinner-accent:       #6AC1FF;
  --progress-fill:        #4DA8E8;

  /* Icons */
  --icon-default:           var(--slate-7);
  --icon-hover:             var(--slate-8);
  --icon-active:            #6AC1FF;
  --icon-dark:              var(--slate-10);

  /* Button: Secondary (inverted) */
  --btn-secondary-bg:    var(--slate-13);
  --btn-secondary-text:  var(--slate-3);
  --btn-secondary-hover: var(--slate-12);

  /* Button: Subtle */
  --btn-subtle-bg:       var(--slate-4);
  --btn-subtle-text:     var(--slate-10);

  /* Button: Inactive */
  --btn-inactive-bg:     var(--slate-3);
  --btn-inactive-text:   var(--slate-6);
  --btn-inactive-border: var(--slate-5);

  /* Shadow */
  --shadow-elevation:    rgba(0, 0, 0, 0.5);
  --shadow-1:            rgba(0, 0, 0, 0.4);

  /* Dropdown triggers */
  --dropdown-trigger-bg:       var(--slate-3);
  --dropdown-trigger-hover:    var(--slate-4);
  --dropdown-trigger-pill:     var(--slate-6);

  /* Feedback */
  --feedback-success:    #2ECC94;
  --feedback-error:      #E05550;
}

/* Logo inversion for dark mode */
[data-theme="dark"] .style-guide__topbar-logo img {
  filter: brightness(0) invert(1);
}


/* ===== Font Face Declarations ===== */

/* Headers — Agrandir Wide family */
@font-face {
  font-family: 'Agrandir Wide';
  src: url('./fonts/Agrandir-Wide.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Agrandir Wide';
  src: url('./fonts/Agrandir-WideHeavy.otf') format('opentype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* Paragraphs / Body — DM Sans family */
@font-face {
  font-family: 'DM Sans';
  src: url('./fonts/DMSans-Medium.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'DM Sans';
  src: url('./fonts/DMSans-Bold.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}


/* ===== Typography — Desktop ===== */

/* H1 XL */
.h1-xl {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 75px;
  line-height: 75px;
  margin-bottom: 72px;
  letter-spacing: -0.5px;
  font-weight: 400;
}

.h1-xl-bold {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 75px;
  line-height: 75px;
  margin-bottom: 72px;
  letter-spacing: -0.5px;
  font-weight: 700;
}

/* H1 */
.h1 {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 60px;
  line-height: 64px;
  margin-bottom: 72px;
  letter-spacing: -0.5px;
  font-weight: 400;
}

.h1-bold {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 60px;
  line-height: 64px;
  margin-bottom: 72px;
  letter-spacing: -0.5px;
  font-weight: 700;
}

/* H2 */
.h2 {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 48px;
  line-height: 52px;
  margin-bottom: 56px;
  letter-spacing: -0.5px;
  font-weight: 400;
}

.h2-bold {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 48px;
  line-height: 52px;
  margin-bottom: 56px;
  letter-spacing: -0.5px;
  font-weight: 700;
}

/* H3 */
.h3 {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 40px;
  line-height: 43px;
  margin-bottom: 48px;
  letter-spacing: -0.5px;
  font-weight: 400;
}

.h3-bold {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 40px;
  line-height: 43px;
  margin-bottom: 48px;
  letter-spacing: -0.5px;
  font-weight: 700;
}

/* H4 */
.h4 {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 32px;
  line-height: 36px;
  margin-bottom: 40px;
  letter-spacing: -0.5px;
  font-weight: 400;
}

.h4-bold {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 32px;
  line-height: 36px;
  margin-bottom: 40px;
  letter-spacing: -0.5px;
  font-weight: 700;
}

/* H5 */
.h5 {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 24px;
  line-height: 27px;
  margin-bottom: 28px;
  letter-spacing: -0.5px;
  font-weight: 400;
}

.h5-bold {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 24px;
  line-height: 27px;
  margin-bottom: 28px;
  letter-spacing: -0.5px;
  font-weight: 700;
}

/* H6 */
.h6 {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 20px;
  line-height: 23px;
  margin-bottom: 24px;
  letter-spacing: -0.5px;
  font-weight: 400;
}

.h6-bold {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 20px;
  line-height: 23px;
  margin-bottom: 24px;
  letter-spacing: -0.5px;
  font-weight: 700;
}

/* P1 XL */
.p1-xl {
  font-family: 'DM Sans', sans-serif;
  font-size: 18px;
  line-height: 33px;
  margin-bottom: 33px;
  letter-spacing: -0.5px;
  font-weight: 400;
}

.p1-xl-bold {
  font-family: 'DM Sans', sans-serif;
  font-size: 18px;
  line-height: 33px;
  margin-bottom: 33px;
  letter-spacing: -0.5px;
  font-weight: 700;
}

/* P1 */
.p1 {
  font-family: 'DM Sans', sans-serif;
  font-size: 16px;
  line-height: 28px;
  margin-bottom: 28px;
  letter-spacing: 0px;
  font-weight: 400;
}

.p1-bold {
  font-family: 'DM Sans', sans-serif;
  font-size: 16px;
  line-height: 28px;
  margin-bottom: 28px;
  letter-spacing: 0px;
  font-weight: 700;
}

/* P2 */
.p2 {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  line-height: 23px;
  margin-bottom: 18px;
  letter-spacing: 0px;
  font-weight: 400;
}

.p2-bold {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  line-height: 23px;
  margin-bottom: 18px;
  letter-spacing: 0px;
  font-weight: 700;
}

/* P3 */
.p3 {
  font-family: 'DM Sans', sans-serif;
  font-size: 12px;
  line-height: 24px;
  margin-bottom: 24px;
  letter-spacing: 0px;
  font-weight: 400;
}

.p3-bold {
  font-family: 'DM Sans', sans-serif;
  font-size: 12px;
  line-height: 24px;
  margin-bottom: 24px;
  letter-spacing: 0px;
  font-weight: 700;
}


/* ===== Button Components ===== */

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: auto;
  border: none;
  cursor: pointer;
  text-decoration: none;
  transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
  white-space: nowrap;
  font-family: 'Agrandir Wide', sans-serif;
}

/* Sizes */
.btn-lg {
  padding: 20px 35px;
  border-radius: 999px;
  font-size: 20px;
  font-weight: 700;
  line-height: 23px;
  letter-spacing: -0.5px;
}

.btn-md {
  padding: 14px 25px;
  border-radius: 999px;
  font-size: 20px;
  font-weight: 700;
  line-height: 23px;
  letter-spacing: -0.5px;
}

.btn-sm {
  padding: 7px 20px;
  border-radius: 749px;
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  font-weight: 700;
  line-height: 23px;
  letter-spacing: 0px;
}

/* Primary */
.btn-primary {
  background-color: var(--accent-btn);
  color: var(--text-primary);
}

.btn-primary:hover {
  background-color: var(--accent-btn-hover);
}

/* Secondary */
.btn-secondary {
  background-color: var(--btn-secondary-bg);
  color: var(--btn-secondary-text);
}

.btn-secondary:hover {
  background-color: var(--btn-secondary-hover);
}

/* Tertiary (Violet) */
.btn-tertiary {
  background-color: var(--accent-violet);
  color: var(--text-primary);
}

.btn-tertiary:hover {
  background-color: var(--accent-violet-hover);
}

/* Subtle */
.btn-subtle {
  background-color: var(--btn-subtle-bg);
  color: var(--btn-subtle-text);
}

.btn-subtle:hover {
  background-color: var(--btn-subtle-bg);
}

/* Inactive */
.btn-inactive {
  background-color: var(--btn-inactive-bg);
  color: var(--btn-inactive-text);
  border: 1px solid var(--btn-inactive-border);
  cursor: default;
}

.btn-inactive:hover {
  background-color: var(--btn-inactive-bg);
}

/* Keep button text dark on coloured backgrounds in dark mode */
[data-theme="dark"] .btn-primary,
[data-theme="dark"] .btn-tertiary {
  color: var(--ice-13);
}

/* Button with trailing icon */
.btn__icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  width: 16px;
  height: 16px;
  margin-left: 15px;
}

.btn__icon svg {
  width: 16px;
  height: 16px;
}

/* Link button */
.btn-link {
  display: inline-flex;
  align-items: center;
  gap: 12px;
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 20px;
  font-weight: 700;
  line-height: 23px;
  letter-spacing: -0.5px;
  color: var(--text-primary);
  text-decoration: none;
}

.btn-link__arrow {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  flex-shrink: 0;
  transition: transform 0.25s ease;
}

.btn-link__arrow svg {
  width: 16px;
  height: 16px;
}

.btn-link:hover .btn-link__arrow {
  transform: translateX(5px);
}


/* ---------- Back Button Mini / Link Button Mini ---------- */

.btn-back-mini,
.btn-link-mini {
  display: flex;
  align-items: center;
  gap: 10px;
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  color: var(--text-secondary);
  transition: color 0.15s ease;
  text-decoration: none;
}

.btn-back-mini:hover,
.btn-link-mini:hover {
  color: var(--text-primary);
}

.btn-back-mini__icon,
.btn-link-mini__icon {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: 1.5px solid var(--border-default);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  transition: border-color 0.15s ease;
}

.btn-back-mini:hover .btn-back-mini__icon,
.btn-link-mini:hover .btn-link-mini__icon {
  border-color: var(--border-strong);
}

.btn-back-mini__icon svg,
.btn-link-mini__icon svg {
  width: 12px;
  height: 12px;
}

.btn-back-mini__text,
.btn-link-mini__text {
  margin-bottom: 0;
  color: inherit;
  font-family: 'DM Sans', sans-serif;
  font-size: 16px;
  line-height: 28px;
  font-weight: 500;
}


/* ===== Responsive — Mobile ===== */

@media (max-width: 768px) {
  /* H1 XL */
  .h1-xl, .h1-xl-bold {
    font-size: 47px;
    line-height: 52px;
    margin-bottom: 55px;
  }

  /* H1 */
  .h1, .h1-bold {
    font-size: 40px;
    line-height: 44px;
    margin-bottom: 56px;
  }

  /* H2 */
  .h2, .h2-bold {
    font-size: 35px;
    line-height: 40px;
    margin-bottom: 48px;
  }

  /* H3 */
  .h3, .h3-bold {
    font-size: 28px;
    line-height: 32px;
    margin-bottom: 40px;
  }

  /* H4 */
  .h4, .h4-bold {
    font-size: 24px;
    line-height: 28px;
    margin-bottom: 32px;
  }

  /* H5 */
  .h5, .h5-bold {
    font-size: 21px;
    line-height: 26px;
    margin-bottom: 24px;
  }

  /* H6 */
  .h6, .h6-bold {
    font-size: 18px;
    line-height: 22px;
    margin-bottom: 20px;
  }

  /* P1 XL */
  .p1-xl, .p1-xl-bold {
    font-size: 18px;
    line-height: 33px;
    margin-bottom: 30px;
  }

  /* P1 — unchanged */
  .p1, .p1-bold {
    font-size: 16px;
    line-height: 28px;
    margin-bottom: 28px;
  }

  /* P2 */
  .p2, .p2-bold {
    font-size: 14px;
    line-height: 23px;
    margin-bottom: 16px;
  }

  /* P3 — unchanged */
  .p3, .p3-bold {
    font-size: 12px;
    line-height: 24px;
    margin-bottom: 24px;
  }
}


/* ===== Style Guide Page Layout ===== */

/* Top Bar */
.style-guide__topbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 55px;
  background-color: var(--surface-elevated);
  box-shadow: 0px 2px 20px 0px var(--shadow-elevation);
  z-index: 200;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 32px;
}

.style-guide__topbar-logo img {
  width: 110px;
  height: auto;
}

.style-guide__topbar-nav {
  display: flex;
  align-items: center;
  gap: 8px;
}

.topbar-link {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  font-weight: 400;
  line-height: 23px;
  letter-spacing: 0.3px;
  color: var(--text-primary);
  text-decoration: none;
  padding: 6px 14px;
  border-radius: 8px;
  transition: background-color 0.15s ease, color 0.15s ease;
}

.topbar-link:hover {
  text-decoration: underline;
  text-underline-offset: 4px;
}

.topbar-link--active {
  color: var(--text-primary);
  background-color: var(--accent-bg);
}

.topbar-link--active:hover {
  text-decoration: none;
}

/* Layout */
.style-guide {
  display: flex;
  min-height: 100vh;
  padding-top: 55px;
}

/* Sidebar */
.style-guide__sidebar {
  width: 280px;
  position: fixed;
  top: 55px;
  left: 0;
  height: calc(100vh - 55px);
  padding: 24px 16px;
  background-color: var(--surface-elevated);
  overflow-y: auto;
  z-index: 100;
  display: flex;
  flex-direction: column;
}

/* Sidebar Navigation */
.style-guide__sidebar-nav {
  display: flex;
  flex-direction: column;
  gap: 4px;
  flex: 1;
}

/* Collapsible Category — <details> / <summary> */
.sidebar-category {
  border: none;
  margin-bottom: 2px;
}

.sidebar-category summary {
  display: flex;
  align-items: center;
  gap: 8px;
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  font-weight: 700;
  line-height: 23px;
  letter-spacing: 0px;
  color: var(--text-primary);
  padding: 10px 12px;
  border-radius: 8px;
  cursor: pointer;
  list-style: none;
  user-select: none;
  transition: background-color 0.15s ease, color 0.15s ease;
}

.sidebar-category summary::-webkit-details-marker {
  display: none;
}

.sidebar-category summary::before {
  content: '';
  display: inline-block;
  width: 16px;
  height: 16px;
  min-width: 16px;
  background-color: currentColor;
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='none'%3E%3Cpath d='M6 4l4 4-4 4' stroke='white' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  -webkit-mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='none'%3E%3Cpath d='M6 4l4 4-4 4' stroke='white' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  mask-size: contain;
  mask-repeat: no-repeat;
  transition: transform 0.25s ease;
}

.sidebar-category[open] > summary {
  color: var(--text-primary);
  background-color: var(--accent-bg);
}

.sidebar-category[open] > summary::before {
  transform: rotate(90deg);
}

.sidebar-category summary:hover {
  color: var(--text-primary);
  background-color: var(--surface-sunken);
}

/* Animated content reveal */
.sidebar-category__content {
  display: grid;
  grid-template-rows: 0fr;
  transition: grid-template-rows 0.3s ease;
}

.sidebar-category[open] > .sidebar-category__content {
  grid-template-rows: 1fr;
}

.sidebar-category__inner {
  overflow: hidden;
}

/* Child links */
.sidebar-link {
  display: block;
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  font-weight: 400;
  line-height: 22px;
  letter-spacing: 0.3px;
  color: var(--text-tertiary);
  text-decoration: none;
  padding: 7px 12px 7px 40px;
  border-radius: 8px;
  transition: background-color 0.15s ease, color 0.15s ease;
  position: relative;
}

.sidebar-link:hover {
  color: var(--text-primary);
  text-decoration: underline;
  text-underline-offset: 4px;
}

.sidebar-link--active {
  color: var(--text-primary);
  font-weight: 700;
}

.sidebar-link--active:hover {
  text-decoration: none;
}

.sidebar-link--active::before {
  content: '';
  position: absolute;
  left: 16px;
  top: 50%;
  transform: translateY(-50%);
  width: 3px;
  height: 16px;
  background-color: var(--indicator-active);
  border-radius: 2px;
}

/* Main Content */
.style-guide__content {
  margin-left: 280px;
  padding: 48px 80px;
  flex: 1;
  max-width: 1200px;
}

.style-guide__section {
  margin-bottom: 100px;
}

.style-guide__section-title {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 40px;
  line-height: 43px;
  font-weight: 700;
  letter-spacing: -0.5px;
  color: var(--text-primary);
  margin-bottom: 3px;
  text-transform: lowercase;
}

.style-guide__section-description {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  line-height: 23px;
  font-weight: 400;
  letter-spacing: 0px;
  color: var(--text-secondary);
  margin-bottom: 48px;
  max-width: 600px;
}

.style-guide__subsection-title {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 24px;
  line-height: 27px;
  font-weight: 400;
  letter-spacing: -0.5px;
  color: var(--text-tertiary);
  margin-bottom: 24px;
  text-transform: lowercase;
}

/* Typography specimen */
.type-specimen {
  margin-bottom: 48px;
  padding-bottom: 32px;
  border-bottom: 1px solid var(--border-subtle);
}

.type-specimen:last-child {
  border-bottom: none;
}

.type-specimen__label {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 14px;
  font-weight: 700;
  color: var(--text-placeholder);
  letter-spacing: -0.5px;
  margin-bottom: 12px;
  text-transform: uppercase;
}

.type-specimen__sample {
  margin-bottom: 0;
}

.type-specimen__meta {
  font-family: 'DM Sans', sans-serif;
  font-size: 12px;
  font-weight: 400;
  color: var(--text-quaternary);
  letter-spacing: 0.4px;
  margin-top: 12px;
}

/* Color swatches */
.color-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 20px;
  margin-bottom: 40px;
}

.color-swatch {
  border-radius: 12px;
  overflow: hidden;
  border: 1px solid var(--border-default);
  background: var(--surface-elevated);
}

.color-swatch__preview {
  height: 100px;
}

.color-swatch__label {
  padding: 12px 14px;
}

.color-swatch__name {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  font-weight: 700;
  line-height: 23px;
  color: var(--text-primary);
  letter-spacing: 0.3px;
  margin-bottom: 0;
}

.color-swatch__hex {
  font-family: 'DM Sans', sans-serif;
  font-size: 12px;
  font-weight: 400;
  line-height: 24px;
  color: var(--text-quaternary);
  letter-spacing: 0.4px;
  margin-bottom: 0;
}

/* Button display */
.button-group {
  margin-bottom: 48px;
}

.button-row {
  display: flex;
  align-items: flex-end;
  gap: 16px;
  margin-bottom: 16px;
  flex-wrap: wrap;
}

.button-row-label {
  font-family: 'DM Sans', sans-serif;
  font-size: 12px;
  font-weight: 400;
  color: var(--text-quaternary);
  letter-spacing: 0.4px;
  margin-bottom: 8px;
}

/* ===== Page Header Pattern ===== */

.page-header {
  margin-bottom: 41px;
}

.page-header__title {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 48px;
  line-height: 52px;
  font-weight: 700;
  letter-spacing: -0.5px;
  color: var(--text-primary);
  margin-bottom: 3px;
  text-transform: lowercase;
}

.page-header__description {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  line-height: 23px;
  font-weight: 400;
  letter-spacing: 0px;
  color: var(--text-secondary);
  margin-bottom: 0;
}

/* Section sub-header (e.g. "behaviour") */
.section-header {
  margin-bottom: 32px;
  max-width: 600px;
}

.section-header__title {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 24px;
  line-height: 27px;
  font-weight: 700;
  letter-spacing: -0.5px;
  color: var(--accent-heading-alt);
  margin-bottom: 3px;
}

.section-header__description {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  line-height: 23px;
  font-weight: 400;
  letter-spacing: 0px;
  color: var(--text-secondary);
  margin-bottom: 0;
}


/* ===== Radio Components ===== */

/* --- Shared Radio Styles --- */
.radio-group {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* Hidden native input */
.radio-input {
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;
  pointer-events: none;
}

/* Custom radio circle */
.radio-circle {
  position: relative;
  width: 22px;
  height: 22px;
  min-width: 22px;
  border-radius: 50%;
  border: 2px solid var(--border-hover);
  background-color: transparent;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.radio-circle::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0);
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: var(--bg-checked);
  transition: transform 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Selected state — inner dot appears */
.radio-input:checked + .radio-label .radio-circle,
.radio-input:checked + .radio-boxed .radio-circle {
  border-color: var(--border-selected);
}

.radio-input:checked + .radio-label .radio-circle::after,
.radio-input:checked + .radio-boxed .radio-circle::after {
  transform: translate(-50%, -50%) scale(1);
}

/* Focus-visible ring */
.radio-input:focus-visible + .radio-label .radio-circle,
.radio-input:focus-visible + .radio-boxed .radio-circle {
  box-shadow: 0 0 0 3px var(--ring-focus);
}


/* --- Type 1: Boxed Radio Selection --- */
.radio-boxed {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 20px 24px;
  border: 1.5px solid var(--border-default);
  border-radius: 16px;
  background-color: var(--surface-elevated);
  cursor: pointer;
  transition: border-color 0.2s ease, background-color 0.2s ease, box-shadow 0.2s ease;
  user-select: none;
}

.radio-boxed:hover {
  border-color: var(--border-hover);
  background-color: var(--surface-primary);
}

.radio-boxed__text {
  flex: 1;
  min-width: 0;
}

.radio-boxed__title {
  font-family: 'DM Sans', sans-serif;
  font-size: 16px;
  line-height: 28px;
  font-weight: 700;
  letter-spacing: 0px;
  color: var(--text-primary);
  margin-bottom: 2px;
}

.radio-boxed__description {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  line-height: 23px;
  font-weight: 400;
  letter-spacing: 0px;
  color: var(--text-tertiary);
  margin-bottom: 0;
}

/* Boxed — selected state */
.radio-input:checked + .radio-boxed {
  border-color: var(--border-selected);
  background-color: var(--bg-selected);
  box-shadow: 0px 0px 0px 1px var(--border-selected);
}

.radio-input:checked + .radio-boxed:hover {
  background-color: var(--bg-selected);
}

.radio-input:checked + .radio-boxed .radio-boxed__title {
  color: var(--text-primary);
}

.radio-input:checked + .radio-boxed .radio-boxed__description {
  color: var(--text-secondary);
}


/* --- Type 2: Simple Radio Selection --- */
.radio-label {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 0;
  cursor: pointer;
  user-select: none;
  transition: color 0.15s ease;
}

.radio-label__text {
  font-family: 'DM Sans', sans-serif;
  font-size: 16px;
  line-height: 28px;
  font-weight: 400;
  letter-spacing: 0px;
  color: var(--text-secondary);
  transition: color 0.15s ease;
}

.radio-label:hover .radio-label__text {
  color: var(--text-primary);
}

.radio-label:hover .radio-circle {
  border-color: var(--border-strong);
}

/* Simple — selected state */
.radio-input:checked + .radio-label .radio-label__text {
  color: var(--text-primary);
}


/* ===== Checkmark Selection ===== */

/* Hidden native checkbox (reuses .radio-input visually-hidden pattern) */
.check-input {
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;
  pointer-events: none;
}

/* Custom check square */
.check-square {
  position: relative;
  width: 22px;
  height: 22px;
  min-width: 22px;
  border-radius: 6px;
  border: 2px solid var(--border-hover);
  background-color: transparent;
  transition: border-color 0.2s ease, background-color 0.2s ease, box-shadow 0.2s ease;
}

.check-square::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -60%) rotate(45deg) scale(0);
  width: 6px;
  height: 11px;
  border: solid var(--surface-primary);
  border-width: 0 2px 2px 0;
  transition: transform 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Checked state */
.check-input:checked + .check-label .check-square {
  border-color: var(--bg-checked);
  background-color: var(--bg-checked);
}

.check-input:checked + .check-label .check-square::after {
  transform: translate(-50%, -60%) rotate(45deg) scale(1);
}

/* Focus-visible ring */
.check-input:focus-visible + .check-label .check-square {
  box-shadow: 0 0 0 3px var(--ring-focus);
}

/* Simple checkmark label row */
.check-label {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 0;
  cursor: pointer;
  user-select: none;
  transition: color 0.15s ease;
}

.check-label__text {
  font-family: 'DM Sans', sans-serif;
  font-size: 16px;
  line-height: 28px;
  font-weight: 400;
  letter-spacing: 0px;
  color: var(--text-secondary);
  transition: color 0.15s ease;
}

.check-label:hover .check-label__text {
  color: var(--text-primary);
}

.check-label:hover .check-square {
  border-color: var(--border-strong);
}

/* Checkmark — selected text state */
.check-input:checked + .check-label .check-label__text {
  color: var(--text-primary);
}


/* ===== Form Fields ===== */

.form-field {
  display: flex;
  flex-direction: column;
  gap: 3px;
  width: 100%;
}

.form-field__label {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  line-height: 23px;
  font-weight: 700;
  letter-spacing: 0px;
  color: var(--text-primary);
  transition: color 0.2s ease;
}

.form-field__required {
  font-family: 'DM Sans', sans-serif;
  font-size: 12px;
  line-height: 24px;
  font-weight: 500;
  letter-spacing: 0px;
  color: var(--text-primary);
}

/* Input wrapper — holds input + optional enhancers */
.form-field__input-wrapper {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
}

.form-field__input {
  width: 100%;
  height: 52px;
  padding: 12px 18px;
  border: 2px solid transparent;
  border-radius: 10px;
  background-color: var(--surface-sunken);
  font-family: 'DM Sans', sans-serif;
  font-size: 16px;
  line-height: 28px;
  font-weight: 500;
  letter-spacing: 0px;
  color: var(--text-primary);
  outline: none;
  transition: border-color 0.2s ease;
}

.form-field__input::placeholder {
  color: var(--text-placeholder);
  font-weight: 500;
}

.form-field__input:hover::placeholder {
  color: var(--text-quaternary);
}

.form-field__input:focus {
  border-color: var(--border-focus);
}

.form-field__input:focus::placeholder {
  color: var(--text-primary);
}

/* Label turns blue on focus */
.form-field:focus-within .form-field__label {
  color: var(--text-focus);
}

/* Hint text */
.form-field__hint {
  display: flex;
  align-items: center;
  gap: 4px;
  font-family: 'DM Sans', sans-serif;
  font-size: 12px;
  line-height: 24px;
  font-weight: 500;
  letter-spacing: 0px;
  color: var(--text-placeholder);
  transition: color 0.2s ease;
}

.form-field:hover .form-field__hint {
  color: var(--text-quaternary);
}

.form-field:focus-within .form-field__hint {
  color: var(--text-tertiary);
}

.form-field__hint-icon {
  width: 14px;
  height: 14px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.form-field__hint-icon svg {
  width: 14px;
  height: 14px;
}

/* Validation states — success */
.form-field--success .form-field__hint {
  color: var(--feedback-success);
}

.form-field--success:hover .form-field__hint {
  color: var(--feedback-success);
}

.form-field--success:focus-within .form-field__hint {
  color: var(--feedback-success);
}

.form-field--success .form-field__hint-icon {
  color: var(--feedback-success);
}

/* Validation states — error */
.form-field--error .form-field__hint {
  color: var(--feedback-error);
}

.form-field--error:hover .form-field__hint {
  color: var(--feedback-error);
}

.form-field--error:focus-within .form-field__hint {
  color: var(--feedback-error);
}

.form-field--error .form-field__hint-icon {
  color: var(--feedback-error);
}

/* Enhancers — leading & trailing elements inside input */
.form-field__enhancer {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  pointer-events: none;
  color: var(--text-quaternary);
}

.form-field__enhancer--leading {
  left: 18px;
}

.form-field__enhancer--trailing {
  right: 18px;
}

.form-field__enhancer svg {
  width: 20px;
  height: 20px;
}

.form-field__enhancer-label {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  line-height: 28px;
  font-weight: 500;
  letter-spacing: 0px;
  color: var(--text-quaternary);
}

/* Input padding adjustments when enhancers are present */
.form-field__input--with-leading {
  padding-left: 48px;
}

.form-field__input--with-trailing {
  padding-right: 58px;
}

/* Textarea variant */
.form-field__textarea {
  width: 100%;
  height: 120px;
  padding: 14px 18px;
  border: 2px solid transparent;
  border-radius: 10px;
  background-color: var(--surface-sunken);
  font-family: 'DM Sans', sans-serif;
  font-size: 16px;
  line-height: 28px;
  font-weight: 500;
  letter-spacing: 0px;
  color: var(--text-primary);
  outline: none;
  resize: vertical;
  transition: border-color 0.2s ease;
}

.form-field__textarea::placeholder {
  color: var(--text-placeholder);
  font-weight: 500;
}

.form-field__textarea:hover::placeholder {
  color: var(--text-quaternary);
}

.form-field__textarea:focus {
  border-color: var(--border-focus);
}

.form-field__char-count {
  font-family: 'DM Sans', sans-serif;
  font-size: 12px;
  line-height: 24px;
  font-weight: 500;
  letter-spacing: 0px;
  color: var(--text-quaternary);
  text-align: right;
}


/* ===== Toggles ===== */

.toggle {
  position: relative;
  width: 52px;
  height: 28px;
  flex-shrink: 0;
  cursor: pointer;
  -webkit-appearance: none;
  appearance: none;
  background-color: var(--border-default);
  border: none;
  border-radius: 999px;
  outline: none;
  transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.toggle:hover {
  background-color: var(--border-strong);
}

.toggle::after {
  content: '';
  position: absolute;
  top: 3px;
  left: 3px;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background-color: #ffffff;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.2s ease;
}

.toggle:hover::after {
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
}

.toggle:checked {
  background-color: var(--bg-toggle-on);
}

.toggle:checked:hover {
  background-color: var(--bg-toggle-on-hover);
}

.toggle:checked::after {
  transform: translateX(24px);
}

/* Toggle with label */
.toggle-item {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 6px 0;
  cursor: pointer;
  user-select: none;
}

.toggle-item__label {
  font-family: 'DM Sans', sans-serif;
  font-size: 16px;
  line-height: 28px;
  font-weight: 400;
  letter-spacing: -0.5px;
  color: var(--text-primary);
  transition: color 0.2s ease;
}

/* Toggle prompt text (above single toggle) */
.toggle-prompt {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  line-height: 23px;
  font-weight: 400;
  letter-spacing: 0px;
  color: var(--text-secondary);
  margin-bottom: 12px;
}

/* Toggle group — for multiple selection layout */
.toggle-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}


/* --- Boxed Toggle Selection --- */
.toggle-boxed {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 20px 24px;
  border: 1.5px solid var(--border-default);
  border-radius: 16px;
  background-color: var(--surface-elevated);
  cursor: pointer;
  transition: border-color 0.2s ease, background-color 0.2s ease, box-shadow 0.2s ease;
  user-select: none;
}

.toggle-boxed:hover {
  border-color: var(--border-hover);
  background-color: var(--surface-primary);
}

/* Boxed toggle — selected state */
.toggle-boxed:has(.toggle:checked) {
  border-color: var(--border-selected);
  background-color: var(--bg-selected);
  box-shadow: 0px 0px 0px 1px var(--border-selected);
}

.toggle-boxed:has(.toggle:checked):hover {
  background-color: var(--bg-selected);
}

.toggle-boxed:has(.toggle:checked) .radio-boxed__title {
  color: var(--text-primary);
}

.toggle-boxed:has(.toggle:checked) .radio-boxed__description {
  color: var(--text-secondary);
}


/* ===== Dropdown Filter ===== */

.dropdown {
  position: relative;
  display: inline-block;
}

/* Trigger button */
.dropdown-trigger {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  height: 35px;
  padding: 10px 13px;
  border-radius: 999px;
  border: none;
  background-color: var(--dropdown-trigger-bg);
  cursor: pointer;
  transition: background-color 0.2s ease;
  outline: none;
}

.dropdown-trigger:hover {
  background-color: var(--dropdown-trigger-hover);
}

.dropdown-trigger__text {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  line-height: 23px;
  font-weight: 500;
  letter-spacing: 0px;
  color: var(--text-secondary);
  transition: color 0.2s ease;
}

.dropdown-trigger__icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.dropdown-trigger__icon svg {
  width: 16px;
  height: 16px;
  color: var(--text-secondary);
  transition: color 0.2s ease;
}

/* Secondary pill around chevron icon */
.dropdown-trigger__icon-pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 20px;
  border-radius: 999px;
  background-color: var(--dropdown-trigger-pill);
  transition: background-color 0.2s ease;
}

/* Open state */
.dropdown-trigger--open {
  background-color: var(--surface-sunken);
}

.dropdown-trigger--open .dropdown-trigger__text {
  color: var(--text-primary);
}

.dropdown-trigger--open .dropdown-trigger__icon {
  transform: rotate(180deg);
}

.dropdown-trigger--open .dropdown-trigger__icon svg {
  color: var(--text-primary);
}

.dropdown-trigger--open .dropdown-trigger__icon-pill {
  background-color: var(--bg-pill-selected);
}

/* Selected state */
.dropdown-trigger--selected {
  background-color: var(--bg-trigger-selected);
}

.dropdown-trigger--selected:hover {
  background-color: var(--bg-trigger-selected);
}

.dropdown-trigger--selected .dropdown-trigger__text {
  color: var(--text-primary);
  font-weight: 500;
}

.dropdown-trigger--selected .dropdown-trigger__icon svg {
  color: var(--text-primary);
}

.dropdown-trigger--selected .dropdown-trigger__icon-pill {
  background-color: var(--bg-pill-selected);
}

/* Dropdown panel */
.dropdown-panel {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  z-index: 100;
  display: flex;
  flex-direction: column;
  gap: 14px;
  width: 290px;
  padding: 18px 19px;
  background-color: var(--surface-primary);
  border-radius: 18px;
  box-shadow: 0px 2px 20px 0px var(--shadow-elevation);
  opacity: 0;
  transform: translateY(-8px);
  pointer-events: none;
  transition: opacity 0.25s ease, transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

.dropdown-panel--open {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

/* Panel header */
.dropdown-panel__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
}

.dropdown-panel__title {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 20px;
  line-height: 23px;
  font-weight: 700;
  letter-spacing: -0.5px;
  color: var(--text-primary);
}

.dropdown-panel__close {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  padding: 0;
  border: none;
  background: none;
  cursor: pointer;
  color: var(--text-tertiary);
  transition: color 0.15s ease;
}

.dropdown-panel__close:hover {
  color: var(--text-primary);
}

.dropdown-panel__close svg {
  width: 26px;
  height: 26px;
}

/* Category items */
.dropdown-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  cursor: pointer;
  user-select: none;
  transition: opacity 0.15s ease;
}

.dropdown-item:hover {
  opacity: 0.8;
}

.dropdown-item__text {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  line-height: 23px;
  font-weight: 500;
  letter-spacing: 0px;
  color: var(--text-tertiary);
  transition: color 0.2s ease, font-size 0.2s ease, font-weight 0.2s ease;
}

/* Parent selected — text becomes bolder */
.dropdown-item--parent-selected .dropdown-item__text {
  font-family: 'DM Sans', sans-serif;
  font-size: 16px;
  line-height: 28px;
  font-weight: 700;
  letter-spacing: -0.5px;
  color: var(--text-primary);
}

/* Hidden parent (when subcategory is expanded) */
.dropdown-item--hidden {
  display: none;
}

/* Radio indicator */
.dropdown-radio {
  position: relative;
  width: 25px;
  height: 25px;
  min-width: 25px;
  border-radius: 50%;
  background-color: var(--surface-sunken);
  border: 1px solid var(--border-default);
  flex-shrink: 0;
  transition: background-color 0.25s ease, border-color 0.25s ease;
}

.dropdown-radio::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0);
  width: 13px;
  height: 13px;
  border-radius: 50%;
  background-color: #ffffff;
  transition: transform 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.dropdown-radio--selected {
  background-color: var(--bg-checked);
  border-color: var(--bg-checked);
}

.dropdown-radio--selected::after {
  transform: translate(-50%, -50%) scale(1);
}

/* Sub-category panel */
.dropdown-subcategory {
  display: none;
  background-color: var(--surface-sunken);
  border-radius: 10px;
  overflow: hidden;
  max-height: 0;
  opacity: 0;
  padding: 0 15px;
  transition: max-height 0.35s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.25s ease, padding 0.35s ease;
}

.dropdown-subcategory--open {
  display: block;
  max-height: 300px;
  opacity: 1;
  padding: 12px 15px;
}

/* Parent name inside sub-category panel */
.dropdown-subcategory__parent {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  margin-bottom: 14px;
  cursor: pointer;
  user-select: none;
}

.dropdown-subcategory__parent-text {
  font-family: 'DM Sans', sans-serif;
  font-size: 16px;
  line-height: 28px;
  font-weight: 700;
  letter-spacing: -0.5px;
  color: var(--text-primary);
}

/* Child items */
.dropdown-subcategory__children {
  display: flex;
  flex-direction: column;
  gap: 13px;
}

.dropdown-subcategory__item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-left: 15px;
  cursor: pointer;
  user-select: none;
  transition: opacity 0.15s ease;
}

.dropdown-subcategory__item:hover {
  opacity: 0.8;
}

.dropdown-subcategory__text {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  line-height: 23px;
  font-weight: 400;
  letter-spacing: 0px;
  color: var(--text-tertiary);
}

/* Apply button */
.dropdown-apply {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  padding: 7px 20px;
  border-radius: 749px;
  border: none;
  background-color: var(--accent-btn);
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  line-height: 23px;
  font-weight: 700;
  letter-spacing: 0px;
  color: var(--text-primary);
  cursor: pointer;
  transition: background-color 0.2s ease, color 0.2s ease;
}

.dropdown-apply:hover {
  background-color: var(--accent-btn-hover);
}

.dropdown-apply--inactive {
  background-color: var(--btn-inactive-bg);
  color: var(--btn-inactive-text);
  border: 1px solid var(--btn-inactive-border);
  cursor: default;
}

.dropdown-apply--inactive:hover {
  background-color: var(--btn-inactive-bg);
}

/* Search input inside dropdown panel */
.dropdown-search-input {
  width: 100%;
  height: 44px;
  padding: 10px 18px;
  border: 2px solid transparent;
  border-radius: 10px;
  background-color: var(--surface-sunken);
  font-family: 'DM Sans', sans-serif;
  font-size: 16px;
  line-height: 24px;
  font-weight: 500;
  letter-spacing: 0px;
  color: var(--text-primary);
  outline: none;
  transition: border-color 0.2s ease;
}

.dropdown-search-input::placeholder {
  color: var(--text-placeholder);
  font-weight: 500;
}

.dropdown-search-input:focus {
  border-color: var(--border-focus);
}

/* Horizontal filter bar layout */
.dropdown-filter-bar {
  display: flex;
  gap: 10px;
  align-items: flex-start;
  flex-wrap: wrap;
}

/* Price dropdown — wider panel */
.dropdown-panel--wide {
  width: 310px;
}

/* Price range row */
.dropdown-price-row {
  display: flex;
  gap: 14px;
  align-items: center;
  width: 100%;
}

/* Price input wrapper (input + token icon) */
.dropdown-price-field {
  position: relative;
  flex: 1;
  min-width: 0;
}

.dropdown-price-input {
  width: 100%;
  height: 44px;
  padding: 10px 38px 10px 10px;
  border: 2px solid transparent;
  border-radius: 10px;
  background-color: var(--surface-sunken);
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  line-height: 23px;
  font-weight: 500;
  letter-spacing: 0px;
  color: var(--text-primary);
  outline: none;
  transition: border-color 0.2s ease;
}

.dropdown-price-input::placeholder {
  color: var(--text-placeholder);
  font-weight: 500;
}

.dropdown-price-input:focus {
  border-color: var(--border-focus);
}

/* Token icon inside price input */
.dropdown-price-token {
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  width: 22px;
  height: 23px;
  opacity: 0.44;
  pointer-events: none;
  display: flex;
  align-items: center;
  justify-content: center;
}

.dropdown-price-input:focus ~ .dropdown-price-token {
  opacity: 1;
}

/* "any price" item row inside price panel */
.dropdown-price-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  cursor: pointer;
  transition: opacity 0.15s ease;
}

.dropdown-price-item:hover {
  opacity: 0.8;
}

.dropdown-price-item__text {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  line-height: 23px;
  font-weight: 500;
  letter-spacing: 0px;
  color: var(--text-secondary);
}


/* ===== Simple Dropdown Selection ===== */

.select-dropdown {
  position: relative;
  width: 100%;
  max-width: 400px;
}

/* Label above the dropdown */
.select-dropdown__label {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  line-height: 23px;
  font-weight: 700;
  letter-spacing: 0px;
  color: var(--text-primary);
  margin-bottom: 3px;
  transition: color 0.2s ease;
}

/* Trigger — form-field style box */
.select-dropdown__trigger {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  height: 52px;
  padding: 12px 18px;
  border: 2px solid transparent;
  border-radius: 10px;
  background-color: var(--surface-sunken);
  cursor: pointer;
  outline: none;
  transition: border-color 0.2s ease;
}

.select-dropdown__trigger:hover {
  border-color: var(--border-hover);
}

.select-dropdown__trigger--open {
  border-color: var(--border-focus);
}

.select-dropdown__trigger-text {
  font-family: 'DM Sans', sans-serif;
  font-size: 16px;
  line-height: 28px;
  font-weight: 500;
  letter-spacing: 0px;
  color: var(--text-placeholder);
  transition: color 0.2s ease;
}

.select-dropdown__trigger--has-value .select-dropdown__trigger-text {
  color: var(--text-primary);
}

.select-dropdown__trigger-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.select-dropdown__trigger-icon svg {
  width: 16px;
  height: 16px;
  color: var(--text-tertiary);
  transition: color 0.2s ease;
}

.select-dropdown__trigger--open .select-dropdown__trigger-icon {
  transform: rotate(180deg);
}

.select-dropdown__trigger--open .select-dropdown__trigger-icon svg {
  color: var(--text-focus);
}

/* Label turns blue when open */
.select-dropdown--open .select-dropdown__label {
  color: var(--text-focus);
}

/* Options panel */
.select-dropdown__panel {
  position: absolute;
  top: calc(100% + 6px);
  left: 0;
  right: 0;
  z-index: 100;
  display: flex;
  flex-direction: column;
  padding: 6px 0;
  background-color: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 12px;
  box-shadow: 0px 4px 24px 0px var(--shadow-elevation);
  max-height: 0;
  overflow: hidden;
  opacity: 0;
  transition: max-height 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.2s ease;
}

.select-dropdown__panel--open {
  max-height: 400px;
  opacity: 1;
  overflow-y: scroll;
  scrollbar-width: none;            /* Firefox */
  -ms-overflow-style: none;         /* IE / Edge */
}

.select-dropdown__panel--open::-webkit-scrollbar {
  display: none;                    /* Chrome / Safari */
}

/* Individual option */
.select-dropdown__option {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 10px 18px;
  border: none;
  background: none;
  cursor: pointer;
  font-family: 'DM Sans', sans-serif;
  font-size: 16px;
  line-height: 28px;
  font-weight: 400;
  letter-spacing: 0px;
  color: var(--text-secondary);
  text-align: left;
  outline: none;
  transition: background-color 0.15s ease, color 0.15s ease;
}

.select-dropdown__option:hover {
  background-color: var(--surface-sunken);
  color: var(--text-primary);
}

.select-dropdown__option--selected {
  color: var(--text-primary);
  font-weight: 500;
}


/* ===== Media Upload ===== */

.media-upload {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.media-upload__label {
  color: var(--text-primary);
  margin-bottom: 0;
}

/* Hidden native file input */
.media-upload__input {
  position: absolute;
  width: 0;
  height: 0;
  opacity: 0;
  pointer-events: none;
}

/* Upload button */
.media-upload__btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 20px;
  background-color: var(--btn-secondary-bg);
  color: var(--btn-secondary-text);
  border: none;
  border-radius: 999px;
  cursor: pointer;
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  font-weight: 500;
  line-height: 1;
  transition: background-color 0.15s ease;
  width: fit-content;
}

.media-upload__btn:hover {
  background-color: var(--btn-secondary-hover);
}

.media-upload__btn-icon {
  width: 14px;
  height: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.media-upload__btn-icon svg {
  width: 14px;
  height: 14px;
}

.media-upload__btn-text {
  text-transform: lowercase;
}

/* Inline button variant (sits in the thumbnail row) */
.media-upload__btn--inline {
  width: 72px;
  height: 72px;
  padding: 0;
  justify-content: center;
  border-radius: 12px;
  flex-shrink: 0;
  background-color: var(--surface-sunken);
  border: 1.5px dashed var(--border-default);
  color: var(--text-placeholder);
}

.media-upload__btn--inline:hover {
  border-color: var(--border-hover);
  color: var(--text-tertiary);
  background-color: var(--surface-sunken);
}

.media-upload__btn--inline .media-upload__btn-icon {
  width: 18px;
  height: 18px;
}

.media-upload__btn--inline .media-upload__btn-icon svg {
  width: 18px;
  height: 18px;
}

/* Thumbnail row */
.media-upload__row {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

/* Individual thumbnail */
.media-upload__thumb {
  position: relative;
  width: 72px;
  height: 72px;
  flex-shrink: 0;
}

.media-upload__thumb-inner {
  width: 100%;
  height: 100%;
  border-radius: 12px;
  overflow: hidden;
  background-color: var(--surface-sunken);
}

.media-upload__thumb-inner img,
.media-upload__thumb-inner video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Delete button — top right, visible on hover */
.media-upload__thumb-delete {
  position: absolute;
  top: -6px;
  right: -6px;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  border: none;
  background-color: var(--feedback-error);
  color: #fff;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  opacity: 0;
  transform: scale(0.8);
  transition: opacity 0.15s ease, transform 0.15s ease;
}

.media-upload__thumb-delete svg {
  width: 10px;
  height: 10px;
}

.media-upload__thumb:hover .media-upload__thumb-delete {
  opacity: 1;
  transform: scale(1);
}

/* Responsive */
@media (max-width: 768px) {
  .media-upload__thumb {
    width: 64px;
    height: 64px;
  }

  .media-upload__btn--inline {
    width: 64px;
    height: 64px;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .media-upload__btn,
  .media-upload__btn--inline,
  .media-upload__thumb-delete {
    transition: none;
  }
}


/* ===== Component Display Helpers ===== */

.component-display {
  margin-bottom: 64px;
}

.component-display__label {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 24px;
  line-height: 27px;
  font-weight: 400;
  color: var(--text-quaternary);
  letter-spacing: -0.5px;
  margin-bottom: 16px;
  text-transform: lowercase;
}

.component-display__row {
  display: flex;
  gap: 32px;
  align-items: flex-start;
  flex-wrap: wrap;
}

.component-display__column {
  flex: 1;
  min-width: 280px;
  max-width: 440px;
}


/* ===== Theme Toggle ===== */

.theme-toggle {
  position: fixed;
  bottom: 24px;
  left: 16px;
  z-index: 150;
  width: 60px;
  height: 38px;
  border: none;
  border-radius: 810px;
  background-color: var(--surface-elevated);
  box-shadow: 1px 11px 45.3px 0px var(--shadow-elevation);
  cursor: pointer;
  display: flex;
  align-items: center;
  padding: 8px;
  transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

.theme-toggle__icon {
  width: 22px;
  height: 22px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.theme-toggle__icon svg {
  width: 22px;
  height: 22px;
}

/* Sun icon (light mode) */
.theme-toggle__sun {
  color: var(--text-placeholder);
}

/* Moon icon (dark mode) — hidden by default */
.theme-toggle__moon {
  display: none;
  color: var(--text-placeholder);
}

/* Dark mode toggle state */
[data-theme="dark"] .theme-toggle {
  justify-content: flex-end;
}

[data-theme="dark"] .theme-toggle__sun {
  display: none;
}

[data-theme="dark"] .theme-toggle__moon {
  display: flex;
}


/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .sidebar-category summary::before,
  .sidebar-category__content,
  .sidebar-link,
  .sidebar-category summary,
  .topbar-link,
  .radio-circle,
  .radio-circle::after,
  .radio-boxed,
  .radio-label,
  .radio-label__text,
  .check-square,
  .check-square::after,
  .check-label,
  .check-label__text,
  .toggle,
  .toggle::after,
  .toggle-boxed,
  .toggle-item__label,
  .dropdown-trigger,
  .dropdown-trigger__text,
  .dropdown-trigger__icon,
  .dropdown-panel,
  .dropdown-radio,
  .dropdown-radio::after,
  .dropdown-subcategory,
  .dropdown-item__text,
  .dropdown-apply,
  .select-dropdown__trigger,
  .select-dropdown__trigger-icon,
  .select-dropdown__panel,
  .select-dropdown__option,
  .theme-toggle {
    transition: none;
  }
}

/* Responsive style guide layout */
@media (max-width: 768px) {
  .style-guide__topbar {
    padding: 0 20px;
  }

  .style-guide__sidebar {
    position: static;
    width: 100%;
    height: auto;
    padding: 16px 12px;
    box-shadow: 0px 1px 0px 0px var(--border-default);
  }

  .style-guide {
    flex-direction: column;
  }

  .style-guide__content {
    margin-left: 0;
    padding: 32px 20px;
  }

  .color-grid {
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  }

  /* Page header responsive */
  .page-header__title {
    font-size: 35px;
    line-height: 40px;
  }

  /* Radio responsive */
  .component-display__row {
    flex-direction: column;
  }

  .component-display__column {
    max-width: 100%;
  }

  .radio-boxed {
    padding: 16px 20px;
  }

  /* Toggle responsive */
  .theme-toggle {
    left: 12px;
    bottom: 16px;
  }
}


/* ============================================================
   Shared Page Layout
   (nav, sidebar, currency, main content area, game cards)
   ============================================================ */

/* ---------- Top Navigation ---------- */

.marketplace-nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 64px;
  background-color: var(--surface-elevated);
  box-shadow: 0px 2px 20px 0px var(--shadow-elevation);
  z-index: 200;
  display: flex;
  align-items: center;
}

.marketplace-nav__inner {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 0 32px;
}

.marketplace-nav__logo {
  flex-shrink: 0;
}

.marketplace-nav__logo img {
  width: 110px;
  height: auto;
}

[data-theme="dark"] .marketplace-nav__logo img {
  filter: brightness(0) invert(1);
}

.marketplace-nav__links {
  display: flex;
  align-items: center;
  gap: 8px;
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
}

.marketplace-nav__link {
  color: var(--text-tertiary);
  text-decoration: none;
  text-transform: lowercase;
  padding: 6px 16px;
  border-radius: 999px;
  transition: color 0.2s ease, background-color 0.2s ease;
  margin-bottom: 0;
  font-weight: 500;
}

.marketplace-nav__link:hover {
  color: var(--text-primary);
  background-color: var(--surface-sunken);
}

.marketplace-nav__link--active {
  color: var(--text-primary);
  background-color: var(--accent-bg);
  font-weight: 700;
}

.marketplace-nav__auth {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-left: auto;
}


/* Logged-in icon group — hidden by default */

.marketplace-nav__user {
  display: none;
  align-items: center;
  gap: 15px;
  margin-left: auto;
  position: relative;
}

.marketplace-nav__inner--logged-in .marketplace-nav__auth {
  display: none;
}

.marketplace-nav__inner--logged-in .marketplace-nav__user {
  display: flex;
}

.marketplace-nav__icon-btn {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px;
  color: var(--text-secondary);
  transition: color 0.2s ease;
}

.marketplace-nav__icon-btn:hover {
  color: var(--text-primary);
}

.marketplace-nav__icon-btn svg {
  width: 30px;
  height: 30px;
  display: block;
}

.marketplace-nav__notif-dot {
  position: absolute;
  top: 2px;
  right: 2px;
  width: 10px;
  height: 10px;
  background: var(--blue-1, #6AC1FF);
  border-radius: 50%;
  pointer-events: none;
}

.marketplace-nav__notif-dot--hidden {
  display: none;
}


/* ===== Notification Popover ===== */

.notif-popover {
  position: absolute;
  top: calc(100% + 12px);
  right: 0;
  width: 445px;
  border-radius: 15px;
  box-shadow: 1px 5px 16.1px 0px var(--shadow-elevation);
  z-index: 300;
  opacity: 0;
  transform: translateY(-8px);
  pointer-events: none;
  transition: opacity 0.25s ease, transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
}

.notif-popover--open {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.notif-popover__header {
  background-color: var(--surface-sunken);
  padding: 15px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

/* Reset paragraph margins inside compact popover UI */
.notif-popover *:not(svg):not(path) {
  margin-bottom: 0 !important;
  margin-top: 0 !important;
}

.notif-popover__close {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  padding: 0;
  border: none;
  background: none;
  cursor: pointer;
  color: var(--text-tertiary);
  transition: color 0.2s ease;
}

.notif-popover__close:hover {
  color: var(--text-primary);
}

.notif-popover__close svg {
  width: 16px;
  height: 16px;
}

.notif-popover__row {
  background-color: var(--surface-primary);
  padding: 20px 30px;
  display: flex;
  gap: 12px;
  align-items: flex-start;
}

.notif-popover__avatar {
  width: 65px;
  height: 65px;
  border-radius: 50%;
  flex-shrink: 0;
  object-fit: cover;
}

.notif-popover__body {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.notif-popover__meta {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 4px;
}

/* Override line-height for row title — Figma specifies 28px, global class has 33px */
.notif-popover__meta .p1-xl-bold {
  line-height: 28px;
}

.notif-popover__text {
  color: var(--text-secondary);
  align-self: stretch;
}

.notif-popover .btn {
  align-self: flex-start;
}

.notif-popover__handle {
  font-weight: 700;
  color: var(--blue-1);
}

/* System notification avatar (e.g. Portals brand) */
.notif-popover__avatar--system {
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--surface-sunken);
  color: var(--text-tertiary);
  font-family: 'Agrandir Wide', sans-serif;
  font-weight: 700;
  font-size: 24px;
}

@media (max-width: 520px) {
  .notif-popover {
    width: calc(100vw - 32px);
    right: -16px;
  }
}


/* ---------- Left Sidebar ---------- */

.marketplace-sidebar {
  position: fixed;
  top: 64px;
  left: 0;
  width: 240px;
  height: calc(100vh - 64px);
  background-color: var(--surface-elevated);
  display: flex;
  flex-direction: column;
  z-index: 100;
  overflow-y: auto;
}

.marketplace-sidebar__profile {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 18px;
  padding: 24px 20px;
  border-bottom: 1px solid var(--ice-3);
}

.marketplace-avatar-wrapper {
  position: relative;
  flex-shrink: 0;
}

.marketplace-avatar {
  width: 45px;
  height: 45px;
  border-radius: 50%;
  border: 0px solid var(--border-default);
  object-fit: cover;
}

.marketplace-online-dot {
  position: absolute;
  top: -1px;
  right: -1px;
  width: 15px;
  height: 15px;
  background-color: var(--feedback-success);
  border-radius: 50%;
  border: 3px solid var(--surface-elevated);
}

.marketplace-user-info {
  display: flex;
  flex-direction: column;
  min-width: 0;
}

.marketplace-username {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 20px;
  line-height: 23px;
  font-weight: 800;
  letter-spacing: -0.5px;
  color: var(--text-primary);
  text-transform: lowercase;
  margin: 0;
}

.marketplace-email {
  color: var(--text-quaternary);
  margin: 0;
}

.marketplace-sidebar__nav {
  display: flex;
  flex-direction: column;
  padding: 12px 0;
  flex: 1;
}

.marketplace-nav-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 24px;
  color: var(--text-secondary);
  text-decoration: none;
  text-transform: lowercase;
  transition: background-color 0.15s ease, color 0.15s ease;
  margin-bottom: 0;
  font-weight: 500;
}

.marketplace-nav-item:hover {
  color: var(--text-primary);
}

.marketplace-nav-item--active,
.marketplace-nav-item--active:hover {
  color: var(--accent-primary);
  font-weight: 700;
}

.marketplace-nav-item__icon {
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.marketplace-nav-item__icon img {
  width: 28px;
  height: 28px;
  filter: brightness(0) saturate(100%) invert(75%) sepia(10%) saturate(500%) hue-rotate(176deg) brightness(97%) contrast(87%);
}

.marketplace-nav-item--active .marketplace-nav-item__icon img {
  filter: brightness(0) saturate(100%) invert(54%) sepia(62%) saturate(497%) hue-rotate(168deg) brightness(95%) contrast(90%);
}

.marketplace-nav-item:hover .marketplace-nav-item__icon img {
  filter: brightness(0) saturate(100%) invert(68%) sepia(10%) saturate(550%) hue-rotate(176deg) brightness(94%) contrast(88%);
}

.marketplace-nav-item--active:hover .marketplace-nav-item__icon img {
  filter: brightness(0) saturate(100%) invert(54%) sepia(62%) saturate(497%) hue-rotate(168deg) brightness(95%) contrast(90%);
}

[data-theme="dark"] .marketplace-nav-item__icon img {
  filter: brightness(0) saturate(100%) invert(38%) sepia(8%) saturate(500%) hue-rotate(176deg) brightness(92%) contrast(87%);
}

[data-theme="dark"] .marketplace-nav-item--active .marketplace-nav-item__icon img {
  filter: brightness(0) saturate(100%) invert(60%) sepia(45%) saturate(500%) hue-rotate(173deg) brightness(95%) contrast(92%);
}

[data-theme="dark"] .marketplace-nav-item:hover .marketplace-nav-item__icon img {
  filter: brightness(0) saturate(100%) invert(42%) sepia(8%) saturate(550%) hue-rotate(176deg) brightness(93%) contrast(88%);
}

[data-theme="dark"] .marketplace-nav-item--active:hover .marketplace-nav-item__icon img {
  filter: brightness(0) saturate(100%) invert(60%) sepia(45%) saturate(500%) hue-rotate(173deg) brightness(95%) contrast(92%);
}

[data-theme="dark"] .marketplace-sidebar__profile {
  border-bottom-color: var(--slate-3);
}

[data-theme="dark"] .marketplace-sidebar__currency {
  border-top-color: var(--slate-3);
}

.marketplace-sidebar__currency {
  padding: 16px 24px;
  border-top: 1px solid var(--ice-3);
}

.currency-display {
  display: flex;
  align-items: center;
  gap: 8px;
}

.currency-icon {
  width: 26px;
  height: 26px;
  flex-shrink: 0;
  object-fit: contain;
}

.currency-value {
  color: var(--text-primary);
  margin-bottom: 0;
}


/* ---------- Main Content Area ---------- */

.marketplace-main {
  margin-left: 240px;
  padding-top: 64px;
  height: 100vh;
  overflow-y: auto;
}

.marketplace-main__inner {
  padding: 40px 48px;
}


/* ---------- Game Card ---------- */

.game-card {
  cursor: pointer;
  transition: transform 0.2s ease, opacity 0.3s ease;
  opacity: 0;
}

.game-card--visible {
  opacity: 1;
}

.game-card:hover {
  transform: scale(1.03);
}

.game-card:hover .game-card__thumbnail {
  box-shadow: 0px 8px 32px var(--shadow-elevation);
}

.game-card:active {
  transform: scale(0.98);
}

.game-card__thumbnail {
  width: 100%;
  aspect-ratio: 1 / 1;
  background-color: var(--surface-sunken);
  border-radius: 14px;
  overflow: hidden;
  padding: 15px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: box-shadow 0.2s ease;
}

.game-card__thumbnail img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.game-card__thumbnail img.loaded {
  opacity: 1;
}

.game-card__info {
  padding: 10px 0 0;
  display: flex;
  flex-direction: column;
  gap: 0;
}

.game-card__title {
  color: var(--text-primary);
  text-transform: lowercase;
  line-height: 20px;
  margin: 0;
}

.game-card__creator {
  color: var(--text-tertiary);
  text-transform: lowercase;
  line-height: 16px;
  margin: 0;
  font-weight: 500;
}

.game-card__price {
  display: flex;
  align-items: center;
  gap: 5px;
  margin-top: 5px;
}

.game-card__price-icon {
  width: 26px;
  height: 26px;
  flex-shrink: 0;
  object-fit: contain;
}

.game-card__price-value {
  background: linear-gradient(248.52deg, var(--accent-violet) 19.87%, #BFCE82 60.56%, #69B6EC 100.84%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 0;
}


/* ---------- Theme Toggle — Sidebar Position ---------- */

.theme-toggle {
  left: 252px;
}


/* ============================================================
   TAB NAVIGATION
   ============================================================ */

.tab-nav {
  display: flex;
  gap: 24px;
  border-bottom: 1px solid var(--ice-3);
}

.tab-nav__item {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 20px;
  line-height: 23px;
  font-weight: 800;
  text-transform: lowercase;
  cursor: pointer;
  padding-bottom: 12px;
  border: none;
  border-bottom: 2px solid transparent;
  background: none;
  color: var(--ice-5);
  transition: color 0.15s ease, border-color 0.15s ease;
  margin-bottom: -1px;
}

.tab-nav__item:hover {
  color: var(--ice-8);
}

.tab-nav__item--active {
  color: var(--ice-10);
  border-bottom-color: var(--ice-10);
}

[data-theme="dark"] .tab-nav {
  border-bottom-color: var(--slate-3);
}

[data-theme="dark"] .tab-nav__item {
  color: var(--slate-5);
}

[data-theme="dark"] .tab-nav__item:hover {
  color: var(--slate-8);
}

[data-theme="dark"] .tab-nav__item--active {
  color: var(--slate-10);
  border-bottom-color: var(--slate-10);
}

@media (prefers-reduced-motion: reduce) {
  .tab-nav__item {
    transition: none;
  }
}


/* ============================================================
   FAQ ACCORDION
   ============================================================ */

.faq-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.faq-item {
  border: 1px solid var(--border-subtle);
  border-radius: 20px;
  overflow: hidden;
  transition: box-shadow 0.25s ease, background-color 0.25s ease;
}

.faq-item[open] {
  box-shadow: 1px 5px 16.1px 0px var(--shadow-elevation);
  background-color: var(--surface-primary);
}

.faq-item__question {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 15px 20px;
  cursor: pointer;
  list-style: none;
  font-family: 'DM Sans', sans-serif;
  font-size: 18px;
  line-height: 33px;
  font-weight: 700;
  letter-spacing: -0.5px;
  color: var(--text-quaternary);
  transition: color 0.15s ease;
}

.faq-item__question::-webkit-details-marker {
  display: none;
}

.faq-item[open] .faq-item__question {
  color: var(--text-secondary);
}

.faq-item__chevron {
  width: 20px;
  height: 20px;
  flex-shrink: 0;
  transition: transform 0.25s ease;
  color: var(--text-quaternary);
}

.faq-item[open] .faq-item__chevron {
  transform: rotate(180deg);
}

.faq-item__answer {
  padding: 0 20px 15px;
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  line-height: 23px;
  font-weight: 500;
  color: var(--text-tertiary);
  margin: 0;
}

@media (max-width: 768px) {
  .faq-item__question {
    font-size: 16px;
  }
}

@media (prefers-reduced-motion: reduce) {
  .faq-item,
  .faq-item__chevron,
  .faq-item__question {
    transition: none;
  }
}


/* ============================================================
   FRIEND CARD MODULE
   ============================================================ */

.friend-card {
  flex: 1 0 220px;
  max-width: calc(25% - 9px);
  height: 76px;
  padding: 12px 15px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  gap: 12px;
  position: relative;
  cursor: pointer;
  transition: background-color 0.15s ease;
}

.friend-card:hover {
  background-color: var(--ice-2);
}

[data-theme="dark"] .friend-card:hover {
  background-color: var(--slate-2);
}


/* ---------- Friend Card — Avatar ---------- */

.friend-card__avatar {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0;
}


/* ---------- Friend Card — Info ---------- */

.friend-card__info {
  display: flex;
  flex-direction: column;
  min-width: 0;
  flex: 1;
  gap: 0;
}

.friend-card__name-row {
  display: flex;
  align-items: center;
  gap: 4px;
}

.friend-card__name {
  font-family: 'DM Sans', sans-serif;
  font-size: 16px;
  line-height: 20px;
  font-weight: 500;
  color: var(--text-primary);
  text-transform: lowercase;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin: 0;
}

.friend-card__verified {
  width: 20px;
  height: 20px;
  flex-shrink: 0;
}

.friend-card__handle {
  font-family: 'DM Sans', sans-serif;
  font-size: 12px;
  line-height: 16px;
  font-weight: 700;
  color: var(--text-quaternary);
  text-transform: lowercase;
  margin: 0;
}


/* ---------- Shared Responsive — Tablet (≤1024px) ---------- */

@media (max-width: 1024px) {
  .marketplace-sidebar {
    width: 72px;
  }

  .marketplace-sidebar__profile {
    padding: 16px;
    justify-content: center;
    gap: 0;
  }

  .marketplace-avatar {
    width: 40px;
    height: 40px;
  }

  .marketplace-online-dot {
    width: 14px;
    height: 14px;
    top: -2px;
    right: -1px;
    border-width: 2px;
  }

  .marketplace-user-info {
    display: none;
  }

  .marketplace-nav-item {
    justify-content: center;
    padding: 12px;
  }

  .marketplace-nav-item__label {
    display: none;
  }

  .marketplace-sidebar__currency {
    padding: 12px;
    justify-content: center;
  }

  .currency-value {
    display: none;
  }

  .currency-icon {
    width: 24px;
    height: 24px;
  }

  .marketplace-main {
    margin-left: 72px;
  }

  .marketplace-main__inner {
    padding: 32px 32px;
  }

  .theme-toggle {
    left: 84px;
  }

  .friend-card {
    flex: 1 0 200px;
    max-width: calc(33.333% - 8px);
  }

  .marketplace-nav__links {
    display: none;
  }
}


/* ---------- Shared Responsive — Mobile (≤768px) ---------- */

@media (max-width: 768px) {
  .marketplace-sidebar {
    position: fixed;
    top: auto;
    bottom: 0;
    left: 0;
    right: 0;
    width: 100%;
    height: 64px;
    flex-direction: row;
    border-right: none;
    border-top: 1px solid var(--border-subtle);
    z-index: 200;
  }

  .marketplace-sidebar__profile {
    display: none;
  }

  .marketplace-sidebar__nav {
    flex-direction: row;
    align-items: center;
    justify-content: space-around;
    padding: 0;
    width: 100%;
  }

  .marketplace-nav-item {
    flex-direction: column;
    padding: 8px 0;
    gap: 4px;
    font-size: 10px;
  }

  .marketplace-nav-item__label {
    display: block;
  }

  .marketplace-sidebar__currency {
    display: none;
  }

  .marketplace-main {
    margin-left: 0;
    padding-bottom: 64px;
  }

  .marketplace-main__inner {
    padding: 24px 16px;
  }

  .theme-toggle {
    left: 16px;
    bottom: 80px;
  }

  .friend-card {
    flex: 1 0 100%;
    max-width: 100%;
  }
}


/* ============================================================
   GAME DETAIL OVERLAY
   ============================================================ */

body.game-detail-open {
  overflow: hidden;
}

/* --- Overlay Shell --- */

.game-detail-overlay {
  position: fixed;
  inset: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 40px 10px;
  pointer-events: none;
  visibility: hidden;
}

.game-detail-overlay--open {
  pointer-events: auto;
  visibility: visible;
}

.game-detail__backdrop {
  position: absolute;
  inset: 0;
  background-color: rgba(0, 0, 0, 0);
  backdrop-filter: blur(0px);
  -webkit-backdrop-filter: blur(0px);
  transition: background-color 0.6s ease, backdrop-filter 0.6s ease, -webkit-backdrop-filter 0.6s ease;
}

.game-detail-overlay--open .game-detail__backdrop {
  background-color: rgba(0, 0, 0, 0.16);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}


/* --- Surface --- */

.game-detail__surface {
  position: relative;
  width: 100%;
  max-width: 1000px;
  max-height: calc(100vh - 80px);
  padding: 34px 40px;
  background-color: var(--surface-primary);
  border-radius: 20px;
  box-shadow: 1px 11px 45.3px 0px var(--shadow-elevation);
  overflow-x: hidden;
  overflow-y: scroll;
  scrollbar-width: none;
  -ms-overflow-style: none;
  display: flex;
  flex-direction: column;
  gap: 30px;
  transform: scale(0.95);
  opacity: 0;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease;
}

.game-detail__surface::-webkit-scrollbar {
  display: none;
}

.game-detail-overlay--open .game-detail__surface {
  transform: scale(1);
  opacity: 1;
}


/* --- Header --- */

.game-detail__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.game-detail__back {
  display: flex;
  align-items: center;
  gap: 10px;
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  color: var(--text-secondary);
  transition: color 0.15s ease;
}

.game-detail__back:hover {
  color: var(--text-primary);
}

.game-detail__back-icon {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: 1.5px solid var(--border-default);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  transition: border-color 0.15s ease;
}

.game-detail__back:hover .game-detail__back-icon {
  border-color: var(--border-strong);
}

.game-detail__back-icon svg {
  width: 12px;
  height: 12px;
}

.game-detail__back-text {
  margin-bottom: 0;
  color: inherit;
  font-weight: 400;
}


/* --- Body (two columns) --- */

.game-detail__body {
  display: flex;
  flex-wrap: wrap;
  gap: 30px;
  min-width: 0;
}

.game-detail__image-col {
  flex: 1;
  min-width: 0;
  max-width: 100%;
  display: flex;
  flex-direction: column;
  gap: 25px;
}

.game-detail__image-container {
  width: 100%;
  aspect-ratio: 16 / 9;
  background-color: var(--surface-sunken);
  border-radius: 13px;
  overflow: hidden;
}

.game-detail__image-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.game-detail__thumbs-carousel {
  position: relative;
  width: 100%;
}

.game-detail__thumbs-track {
  display: flex;
  gap: 12px;
  overflow-x: auto;
  scrollbar-width: none;
  -ms-overflow-style: none;
  scroll-behavior: smooth;
}

.game-detail__thumbs-track::-webkit-scrollbar {
  display: none;
}

.game-detail__thumbs-nav {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  cursor: pointer;
  z-index: 1;
  padding: 0;
  color: var(--text-secondary);
  opacity: 0;
  transition: opacity 0.15s ease;
}

.game-detail__thumbs-carousel:hover .game-detail__thumbs-nav {
  opacity: 1;
}

.game-detail__thumbs-nav--left {
  left: 0;
  background: linear-gradient(to right, var(--surface-primary) 60%, transparent);
}

.game-detail__thumbs-nav--right {
  right: 0;
  background: linear-gradient(to left, var(--surface-primary) 60%, transparent);
}

.game-detail__thumbs-nav:hover {
  color: var(--text-primary);
}

.game-detail__thumbs-nav svg {
  width: 16px;
  height: 16px;
}

.game-detail__thumb {
  width: 90px;
  height: 57px;
  border-radius: 6px;
  overflow: hidden;
  cursor: pointer;
  flex-shrink: 0;
  border: 2px solid transparent;
  transition: border-color 0.15s ease;
}

.game-detail__thumb--active {
  border-color: var(--accent-primary);
}

.game-detail__thumb img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}


/* --- Info Column --- */

.game-detail__info-col {
  flex: 1;
  min-width: 300px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  gap: 30px;
}

.game-detail__info-top {
  display: flex;
  flex-direction: column;
  gap: 30px;
}

.game-detail__name-block {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.game-detail__name {
  margin-bottom: 0;
  color: var(--text-primary);
}

.game-detail__creator {
  display: flex;
  align-items: center;
  gap: 5px;
}

.game-detail__creator-by,
.game-detail__creator-name {
  margin-bottom: 0;
  color: var(--text-secondary);
}

.game-detail__creator-avatar {
  width: 26px;
  height: 26px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0;
}

.game-detail__creator-verified {
  width: 20px;
  height: 20px;
  flex-shrink: 0;
}

.game-detail__description {
  color: var(--text-secondary);
  margin-bottom: 0;
}

#game-detail-long-desc p {
  color: var(--text-secondary);
  margin-bottom: 0;
}

.game-detail__placeholder {
  color: var(--text-quaternary);
  margin-bottom: 0;
}

.game-detail__info-bottom {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 10px;
}

.game-detail__play-btn {
  width: 227px;
}


/* --- Action Row (favourite / like / notify) --- */

.game-detail__actions {
  display: flex;
  gap: 15px;
  align-items: center;
}

.game-detail__action-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2.5px;
  cursor: pointer;
  background: none;
  border: none;
  padding: 0;
  width: 55px;
  color: var(--text-disabled);
  transition: color 0.15s ease;
}

.game-detail__action-btn:hover {
  color: var(--text-quaternary);
}

.game-detail__action-btn--active {
  color: var(--accent-primary);
}

.game-detail__action-icon {
  width: 24px;
  height: 24px;
}

.game-detail__action-label {
  color: inherit;
  margin-bottom: 0;
}


/* --- Stats Bar (full-width bordered container) --- */

.game-detail__stats-bar {
  display: flex;
  align-items: center;
  gap: 21px;
  min-width: 300px;
  padding: 19px 12px;
  border: 1px solid var(--border-subtle);
  border-radius: 12px;
  background-color: var(--surface-primary);
}

.game-detail__stat {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 10px;
  flex: 1;
  min-width: 0;
}

.game-detail__stat-icon {
  width: 34px;
  height: 34px;
  filter: brightness(0) saturate(100%) invert(75%) sepia(10%) saturate(500%) hue-rotate(176deg) brightness(97%) contrast(87%);
}

[data-theme="dark"] .game-detail__stat-icon {
  filter: brightness(0) saturate(100%) invert(38%) sepia(8%) saturate(500%) hue-rotate(176deg) brightness(92%) contrast(87%);
}

.game-detail__stat-texts {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  width: 100%;
  color: var(--text-quaternary);
}

.game-detail__stat-label {
  margin-bottom: 0;
  line-height: 1;
  text-align: center;
  width: 100%;
}

.game-detail__stat-value {
  margin-bottom: 0;
  line-height: 1;
  text-align: center;
  width: 100%;
}


/* --- Tabs (mirrors friends.html tab pattern) --- */

.game-detail__tabs {
  display: flex;
  gap: 24px;
  border-bottom: 1px solid var(--ice-3);
}

.game-detail__tab {
  font-family: 'Agrandir Wide', sans-serif;
  font-size: 20px;
  line-height: 23px;
  font-weight: 800;
  text-transform: lowercase;
  cursor: pointer;
  padding-bottom: 12px;
  border: none;
  border-bottom: 2px solid transparent;
  background: none;
  color: var(--ice-5);
  transition: color 0.15s ease, border-color 0.15s ease;
  margin-bottom: -1px;
}

.game-detail__tab:hover {
  color: var(--ice-8);
}

.game-detail__tab--active {
  color: var(--ice-10);
  border-bottom-color: var(--ice-10);
}

[data-theme="dark"] .game-detail__tabs {
  border-bottom-color: var(--slate-3);
}

[data-theme="dark"] .game-detail__tab {
  color: var(--slate-5);
}

[data-theme="dark"] .game-detail__tab:hover {
  color: var(--slate-8);
}

[data-theme="dark"] .game-detail__tab--active {
  color: var(--slate-10);
  border-bottom-color: var(--slate-10);
}


/* --- Overview Tab Content --- */

.game-detail__overview {
  display: flex;
  gap: 30px;
}

.game-detail__overview-desc {
  flex: 1;
  min-width: 300px;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.game-detail__section-heading {
  color: var(--text-placeholder);
  margin-bottom: 0;
}

.game-detail__overview-desc p {
  color: var(--text-secondary);
  margin-bottom: 0;
}

#game-detail-long-desc {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.game-detail__overview-sidebar {
  width: 318px;
  min-width: 300px;
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.game-detail__about-box,
.game-detail__socials-box {
  background-color: var(--surface-primary);
  border: 1px solid var(--border-default);
  border-radius: 15px;
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.game-detail__about-rows {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.game-detail__about-row {
  display: flex;
  gap: 40px;
  align-items: center;
}

.game-detail__about-label {
  width: 112px;
  flex-shrink: 0;
  margin-bottom: 0;
  color: var(--text-secondary);
  font-weight: 500;
}

.game-detail__about-value {
  margin-bottom: 0;
  color: var(--text-quaternary);
}

.game-detail__about-divider {
  width: 100%;
  height: 1px;
  background-color: var(--border-subtle);
}

.game-detail__socials-links {
  display: flex;
  gap: 12px;
}

.game-detail__social-link {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 6px 9px;
  border: 1px solid var(--border-default);
  border-radius: 39px;
  background-color: var(--surface-primary);
  transition: border-color 0.15s ease;
}

.game-detail__social-link:hover {
  border-color: var(--border-strong);
}

.game-detail__social-link img {
  width: 25px;
  height: 24px;
  filter: brightness(0) saturate(100%) invert(75%) sepia(10%) saturate(500%) hue-rotate(176deg) brightness(97%) contrast(87%);
}

[data-theme="dark"] .game-detail__social-link img {
  filter: brightness(0) saturate(100%) invert(38%) sepia(8%) saturate(500%) hue-rotate(176deg) brightness(92%) contrast(87%);
}


/* --- Game Detail Responsive — Tablet (≤1024px) --- */

@media (max-width: 1024px) {
  .game-detail__surface {
    max-width: 90vw;
    padding: 32px;
  }

  .game-detail__body {
    gap: 24px;
  }

  .game-detail__overview {
    gap: 24px;
  }

  .game-detail__overview-sidebar {
    width: 260px;
    min-width: 260px;
  }
}


/* --- Game Detail Responsive — Mobile (≤768px) --- */

@media (max-width: 768px) {
  .game-detail__surface {
    max-width: calc(100vw - 32px);
    padding: 24px;
    max-height: calc(100vh - 40px);
    border-radius: 16px;
  }

  .game-detail__body {
    flex-direction: column;
    gap: 24px;
  }

  .game-detail__image-col,
  .game-detail__info-col {
    width: 100%;
    min-width: 0;
  }

  .game-detail__play-btn {
    width: 100%;
  }

  .game-detail__info-bottom {
    align-items: stretch;
  }

  .game-detail__actions {
    justify-content: center;
  }

  .game-detail__overview {
    flex-direction: column;
    gap: 24px;
  }

  .game-detail__overview-sidebar {
    width: 100%;
    min-width: 0;
  }

  .game-detail__name {
    font-size: 24px;
    line-height: 28px;
  }

  .game-detail__stats-bar {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
  }
}


/* --- Game Detail Reduced Motion --- */

@media (prefers-reduced-motion: reduce) {
  .game-detail-overlay,
  .game-detail__surface,
  .game-detail__back,
  .game-detail__back-icon,
  .game-detail__tab,
  .game-detail__backdrop,
  .game-detail__action-btn,
  .game-detail__social-link {
    transition: none;
  }
}


/* ============================================================
   ITEM DETAIL OVERLAY
   ============================================================ */

body.item-detail-open {
  overflow: hidden;
}

/* --- Overlay Shell --- */

.item-detail-overlay {
  position: fixed;
  inset: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 40px 10px;
  pointer-events: none;
  visibility: hidden;
}

.item-detail-overlay--open {
  pointer-events: auto;
  visibility: visible;
}

.item-detail__backdrop {
  position: absolute;
  inset: 0;
  background-color: rgba(0, 0, 0, 0);
  backdrop-filter: blur(0px);
  -webkit-backdrop-filter: blur(0px);
  transition: background-color 0.6s ease, backdrop-filter 0.6s ease, -webkit-backdrop-filter 0.6s ease;
}

.item-detail-overlay--open .item-detail__backdrop {
  background-color: rgba(0, 0, 0, 0.20);
  backdrop-filter: blur(11px);
  -webkit-backdrop-filter: blur(11px);
}


/* --- Surface --- */

.item-detail__surface {
  position: relative;
  width: 100%;
  max-width: 1000px;
  max-height: calc(100vh - 80px);
  padding: 34px 40px;
  background-color: var(--surface-primary);
  border-radius: 20px;
  box-shadow: 1px 11px 45.3px 0px var(--shadow-elevation);
  overflow-y: scroll;
  scrollbar-width: none;
  -ms-overflow-style: none;
  display: flex;
  flex-direction: column;
  gap: 24px;
  transform: scale(0.95);
  opacity: 0;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease;
}

.item-detail__surface::-webkit-scrollbar {
  display: none;
}

.item-detail-overlay--open .item-detail__surface {
  transform: scale(1);
  opacity: 1;
}


/* --- Header --- */

.item-detail__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.item-detail__back {
  display: flex;
  align-items: center;
  gap: 10px;
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  color: var(--text-secondary);
  transition: color 0.15s ease;
}

.item-detail__back:hover {
  color: var(--text-primary);
}

.item-detail__back-icon {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: 1.5px solid var(--border-default);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  transition: border-color 0.15s ease;
}

.item-detail__back:hover .item-detail__back-icon {
  border-color: var(--border-strong);
}

.item-detail__back-icon svg {
  width: 12px;
  height: 12px;
}

.item-detail__back-text {
  margin-bottom: 0;
  color: inherit;
  font-weight: 500;
}


/* --- Tabs --- */

.item-detail__tabs {
  display: flex;
  gap: 20px;
  border-bottom: 1px solid var(--border-subtle);
}

.item-detail__tab {
  text-transform: lowercase;
  cursor: pointer;
  padding-bottom: 12px;
  border: none;
  border-bottom: 2px solid transparent;
  background: none;
  color: var(--ice-5);
  margin-bottom: -1px;
  transition: color 0.15s ease, border-color 0.15s ease;
}

.item-detail__tab:hover {
  color: var(--ice-8);
}

.item-detail__tab--active {
  color: var(--ice-10);
  border-bottom-color: var(--ice-10);
}

[data-theme="dark"] .item-detail__tabs {
  border-bottom-color: var(--slate-3);
}

[data-theme="dark"] .item-detail__tab {
  color: var(--slate-5);
}

[data-theme="dark"] .item-detail__tab:hover {
  color: var(--slate-8);
}

[data-theme="dark"] .item-detail__tab--active {
  color: var(--slate-10);
  border-bottom-color: var(--slate-10);
}


/* --- Two-column body --- */

.item-detail__body {
  display: flex;
  gap: 54px;
}

.item-detail__image-col {
  width: 402px;
  flex-shrink: 0;
  max-width: 100%;
}

.item-detail__image-container {
  width: 100%;
  aspect-ratio: 1 / 1;
  background-color: var(--surface-sunken);
  border-radius: 13px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 30px;
}

.item-detail__image-container img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.item-detail__image-actions {
  display: flex;
  gap: 9px;
  margin-top: 12px;
}

.item-detail__info-col {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
}

.item-detail__name {
  margin-bottom: 5px;
  color: var(--text-primary);
}

.item-detail__creator {
  display: flex;
  align-items: center;
  gap: 5px;
  margin-bottom: 25px;
}

.item-detail__creator-by,
.item-detail__creator-name {
  margin-bottom: 0;
  color: var(--text-secondary);
}

.item-detail__creator-avatar {
  width: 26px;
  height: 26px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0;
}

.item-detail__creator-verified {
  width: 20px;
  height: 20px;
  flex-shrink: 0;
}

.item-detail__buy-btn {
  width: 227px;
}

.item-detail__or-row {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 15px;
  margin-bottom: 15px;
}

.item-detail__or-text {
  margin-bottom: 0;
  color: var(--text-secondary);
}

.item-detail__price {
  display: flex;
  align-items: center;
  gap: 5px;
  margin-bottom: 30px;
}

.item-detail__price-icon {
  width: 26px;
  height: 26px;
  flex-shrink: 0;
  object-fit: contain;
}

.item-detail__price-value {
  margin-bottom: 0;
  background: linear-gradient(248.52deg, var(--accent-violet) 19.87%, #BFCE82 60.56%, #69B6EC 100.84%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}


/* --- Detail Table --- */

.item-detail__table {
  display: flex;
  flex-direction: column;
}

.item-detail__table-row {
  display: flex;
  gap: 71px;
  padding: 10px 0;
  border-bottom: 1px solid var(--border-subtle);
}

.item-detail__table-row:last-child {
  border-bottom: none;
}

.item-detail__table-label {
  width: 112px;
  flex-shrink: 0;
  margin-bottom: 0;
  color: var(--text-primary);
  font-weight: 500;
}

.item-detail__table-value {
  flex: 1;
  margin-bottom: 0;
  color: var(--text-quaternary);
  font-weight: 500;
}


/* --- Recommended Items --- */

.item-detail__recommended-title {
  text-transform: lowercase;
  color: var(--text-quaternary);
  margin-bottom: 24px;
}

.item-detail__recommended-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px 10px;
}


/* --- Item Detail Responsive — Tablet (≤1024px) --- */

@media (max-width: 1024px) {
  .item-detail__surface {
    max-width: 90vw;
    padding: 32px;
  }

  .item-detail__body {
    gap: 32px;
  }

  .item-detail__image-col {
    width: 300px;
  }
}


/* --- Item Detail Responsive — Mobile (≤768px) --- */

@media (max-width: 768px) {
  .item-detail__surface {
    max-width: calc(100vw - 32px);
    padding: 24px;
    max-height: calc(100vh - 40px);
    border-radius: 16px;
  }

  .item-detail__body {
    flex-direction: column;
    gap: 24px;
  }

  .item-detail__image-col {
    width: 100%;
  }

  .item-detail__buy-btn {
    width: 100%;
  }

  .item-detail__recommended-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .item-detail__table-row {
    gap: 32px;
  }

  .item-detail__name {
    font-size: 24px;
    line-height: 28px;
  }
}


/* --- Item Detail Reduced Motion --- */

@media (prefers-reduced-motion: reduce) {
  .item-detail-overlay,
  .item-detail__surface,
  .item-detail__back,
  .item-detail__back-icon,
  .item-detail__tab,
  .item-detail__backdrop {
    transition: none;
  }
}
